% data from Google Sheets
x = [6.130435155	3.058554061	1.52927703	1.01951802	0.7646385152	0.6117108122	0.5097590101	0.4369362943
6.056986527	3.021909583	1.510954791	1.007303194	0.7554773956	0.6043819165	0.5036515971	0.4317013689
5.98956059	2.988269903	1.494134952	0.9960899677	0.7470674758	0.5976539806	0.4980449839	0.4268957004
5.927458682	2.957286451	1.478643226	0.9857621504	0.7393216128	0.5914572902	0.4928810752	0.422469493
5.870084292	2.92866162	1.46433081	0.9762205399	0.7321654049	0.5857323239	0.4881102699	0.4183802313
5.816925388	2.902139949	1.451069975	0.9673799831	0.7255349873	0.5804279898	0.4836899915	0.4145914212
5.767540221	2.877501045	1.438750523	0.959167015	0.7193752613	0.575500209	0.4795835075	0.4110715778
5.721545844	2.854553851	1.427276925	0.9515179502	0.7136384627	0.5709107701	0.4757589751	0.4077934072];

% create one-dimensional matrix
xG = zeros(1,64);
for i = 1:8
    for j = 1:8
        xG((j-1)*8+i) = x(i,j);
    end
end
% xG

% create dC and riG matrices
thet = [2.3	1.1475	0.57375	0.3825	0.286875	0.2295	0.19125	0.1639285714];
dC = zeros(1,64);
riG = zeros(1,64);

for k = 1:8
    for l = 1:8
        riG((k-1)*8+l) = ri(l);
        dC((k-1)*8+l) = 1/thet(k);
    end
end

% mesh plot
figure;
[xq,yq] = meshgrid(0.16:0.02:6.25,1.35:0.001:1.41);
vq = griddata(dC,riG,xG,xq,yq);
mesh(xq,yq,vq)
hold on
plot3(dC,riG,xG,'o')
xlim([0.16 6.25])
% ylim([1.383 1.4025])
zlim([0.4 6.14])
xlabel('Curvature (cm^-^1)')
ylabel('Refractive Index')
zlabel('Focal Length (cm)')
title('Maths Model of Focal Length versus Degree of Curvature and Refraction Index')